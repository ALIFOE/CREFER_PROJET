# 🧪 Guide de Test - Nouveaux Dashboards CREFER

## ✅ Avant de Commencer

Assurez-vous que:
- [ ] Laravel est en cours d'exécution
- [ ] La base de données est migrée
- [ ] Les utilisateurs test existent

---

## 🧑‍💻 Test Dashboard Enseignant

### 1️⃣ Préparation
```bash
# Créer un utilisateur enseignant (si nécessaire)
php artisan tinker
>>> $user = App\Models\User::factory()->create(['role' => 'enseignant']);
>>> $user->email
```

### 2️⃣ Navigation
1. Allez sur `http://localhost:8000/`
2. Vous voyez la page de connexion avec deux onglets

### 3️⃣ Connexion Enseignant
- Cliquez sur l'onglet **"Enseignant"** (l'onglet actif par défaut)
- Saisissez vos identifiants
- Cliquez sur **"Se connecter"**

### 4️⃣ Vérification du Dashboard
✅ Vous devriez voir:
- Titre: "Bienvenue, [Votre Nom]!"
- 4 cartes statistiques (Formations, Étudiants, Présence, Tâches)
- Section "Mes Formations" avec 3 exemples
- Graphique "Performance des Étudiants"
- Barre latérale avec actions rapides
- Footer minimaliste: "© 2025 CREFER. Tous droits réservés."

### 5️⃣ Points de Test
- [ ] Les cartes s'affichent correctement
- [ ] Le graphique se charge (Chart.js)
- [ ] Les couleurs sont cohérentes (indigo/bleu/vert/orange)
- [ ] Le design est responsive (testez sur mobile)
- [ ] Le footer ne montre que le copyright
- [ ] Aucune barre de navigation n'est visible

---

## 🔧 Test Dashboard Administrateur

### 1️⃣ Préparation
```bash
# Créer un utilisateur admin (si nécessaire)
php artisan tinker
>>> $admin = App\Models\User::factory()->create(['role' => 'admin']);
>>> $admin->email
```

### 2️⃣ Navigation
1. Allez sur `http://localhost:8000/`
2. Vous voyez la page de connexion

### 3️⃣ Connexion Admin
- Cliquez sur l'onglet **"Admin"** (le deuxième onglet)
- Saisissez vos identifiants administrateur
- Cliquez sur **"Se connecter en tant qu'Admin"**

### 4️⃣ Vérification du Dashboard
✅ Vous devriez voir:
- Titre: "Tableau de Bord Administrateur"
- 4 cartes statistiques (Utilisateurs, Formations, Inscriptions, Satisfaction)
- Graphique "Croissance des Utilisateurs" (ligne)
- Graphique "Distribution des Formations" (doughnut)
- Section "Inscriptions Récentes" (tableau)
- Graphique "Activité Système" (barres)
- Barre latérale avec gestion & alertes
- Footer minimaliste

### 5️⃣ Points de Test
- [ ] Les cartes affichent les bonnes valeurs
- [ ] Les graphiques se chargent (3 graphiques différents)
- [ ] Le tableau des inscriptions s'affiche
- [ ] Les couleurs sont différentes de l'enseignant
- [ ] Les alertes sont visibles
- [ ] Le footer ne montre que le copyright
- [ ] Aucune barre de navigation n'est visible

---

## 🔄 Test de Navigation

### Redirection Automatique
1. Connexion en tant qu'enseignant
   - Devrait aller à `/dashboard`

2. Connexion en tant qu'administrateur
   - Devrait aller à `/admin/dashboard`

### Accès Directs
```
# Enseignant
GET /dashboard → OK ✅

# Administrateur
GET /admin/dashboard → OK ✅

# Invalid Access
GET /admin/dashboard (en tant qu'enseignant) → Redirection ❌
```

---

## 📱 Test Responsive Design

### Desktop (1920px)
```bash
# Chrome DevTools: Set to 1920x1080
- [ ] 4 cartes en 4 colonnes
- [ ] Contenu en 2 colonnes (2/3 + 1/3)
- [ ] Tous les éléments visibles
```

### Tablet (768px)
```bash
# Chrome DevTools: Set to 768x1024
- [ ] 2 cartes par ligne
- [ ] Contenu en 2 colonnes (adapté)
- [ ] Scrollable verticalement
```

### Mobile (375px)
```bash
# Chrome DevTools: Set to 375x667
- [ ] 1 carte par ligne
- [ ] Contenu en 1 colonne
- [ ] Stack vertical complet
- [ ] Texte lisible
```

---

## 🎨 Test Visuel

### Couleurs Enseignant
```
- Indigo (#6366F1) - Formations
- Bleu (#3B82F6) - Étudiants
- Vert (#10B981) - Présence
- Orange (#F59E0B) - Tâches
```

### Couleurs Admin
```
- Bleu (#3B82F6) - Utilisateurs
- Violet (#A855F7) - Formations
- Vert (#10B981) - Inscriptions
- Orange (#F59E0B) - Satisfaction
```

### Éléments à Vérifier
- [ ] Gradients appliqués correctement
- [ ] Ombres visibles sur les cartes
- [ ] Icônes Font Awesome affichées
- [ ] Barres de progression rendues
- [ ] Badges de statut correctement colorés

---

## 📊 Test des Graphiques

### Chart.js Initialization
```javascript
// Ouvrir la console du navigateur (F12)
// Vérifier qu'aucune erreur n'est affichée
// Les graphiques doivent se charger en < 1s
```

### Enseignant - Performance Chart
- [ ] Graphique en barres
- [ ] 5 matières affichées
- [ ] Valeurs: 85, 92, 78, 88, 81
- [ ] Couleurs dégradées

### Admin - Croissance Chart
- [ ] Graphique en ligne
- [ ] 6 mois de données
- [ ] Courbe lisse
- [ ] Points animés

### Admin - Distribution Chart
- [ ] Graphique doughnut
- [ ] 5 catégories
- [ ] Légende en bas
- [ ] Couleurs distinctes

### Admin - Activité Chart
- [ ] Graphique en barres groupées
- [ ] 7 jours
- [ ] 2 datasets (Connexions & Inscriptions)
- [ ] Animation au survol

---

## 🔐 Test Sécurité

### Authentification
- [ ] Utilisateur non authentifié → Redirection à `/`
- [ ] Accès `/dashboard` sans auth → Erreur 401
- [ ] Accès `/admin/dashboard` sans admin → Erreur 403

### Rôles
```bash
# En tant qu'enseignant
GET /admin/dashboard → ❌ Accès refusé

# En tant qu'administrateur
GET /dashboard → Fonctionne (middleware enseignant accepte admin)
```

---

## 🐛 Débogage

### Erreurs Courantes

#### 1. Graphique ne s'affiche pas
```javascript
// Vérifier dans la console
// Chart.js doit être chargé
typeof Chart !== 'undefined' // doit être true
```

#### 2. Styles manquants
```bash
# Vérifier que Tailwind CSS est chargé
# DevTools → Network → app.css doit être 200 OK
```

#### 3. Icônes manquantes
```bash
# Vérifier Font Awesome
# DevTools → Network → font-awesome.min.css doit être 200 OK
```

### Logs
```bash
# Vérifier les logs Laravel
tail -f storage/logs/laravel.log

# Vérifier la console du navigateur
F12 → Console Tab
```

---

## ✨ Fonctionnalités à Tester

### Notifications
- [ ] Succès: "Succès affiché"
- [ ] Erreur: "Erreur affichée"
- [ ] Info: "Info affichée"
- [ ] Auto-fermeture après 5s

### Hover Effects
- [ ] Cartes: translateY(-5px)
- [ ] Boutons: Couleur/ombre changent
- [ ] Lignes tableau: Fond gris

### Progression
- [ ] Barres de progression correctes
- [ ] Pourcentages exacts
- [ ] Couleurs appropriées

---

## 📝 Checklist Finale

### Dashboard Enseignant
- [ ] Page charge sans erreur
- [ ] 4 statistiques visibles
- [ ] 3 formations affichées
- [ ] Graphique performance OK
- [ ] Actions rapides cliquables
- [ ] Responsive sur mobile
- [ ] Footer minimaliste
- [ ] Aucune navigation visible

### Dashboard Admin
- [ ] Page charge sans erreur
- [ ] 4 statistiques visibles
- [ ] 3 graphiques affichent
- [ ] Tableau des inscriptions OK
- [ ] Alertes affichées
- [ ] Statistiques serveur OK
- [ ] Responsive sur mobile
- [ ] Footer minimaliste
- [ ] Aucune navigation visible

---

## 🎯 Performance

```bash
# Vérifier les temps de chargement
# DevTools → Performance → Enregistrer

# Cibles:
# - Charger: < 2s
# - Paint: < 1s
# - Interactive: < 3s
```

---

## 🚀 Prochaines Étapes

Une fois tous les tests validés:
1. [ ] Connecter les données réelles de la base
2. [ ] Ajouter les vraies statistiques
3. [ ] Configurer les graphiques en temps réel
4. [ ] Ajouter les actions aux boutons
5. [ ] Implémenter les notifications
6. [ ] Ajouter les permissions fines

---

## 📞 Support

En cas de problème:
1. Vérifiez les logs Laravel
2. Vérifiez la console du navigateur
3. Vérifiez les permissions de fichiers
4. Vérifiez la connexion à la BD

---

**Date de Création**: 2025
**Version**: 1.0
**Testeur**: À compléter
**Résultat**: À compléter
